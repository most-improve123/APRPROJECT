<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Detalle de Producto</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="product-detail-container">
    <header class="product-detail-header">
      <h1>ðŸ›’ Comercial Palermo</h1>
    </header>

    <main class="product-detail">
      <img id="productImage" src="" alt="Producto">
      <h2 id="productName"></h2>
      <p id="productDescription"></p>

      <div class="product-specs">
        <h3>Especificaciones:</h3>
        <ul id="productSpecs"></ul>
      </div>

      <div class="product-price">
        <strong id="productPrice"></strong>
      </div>

    <button id="addToCart">Agregar al Carrito</button>

<script>
  const product = JSON.parse(localStorage.getItem("selectedProduct"));

  // Mostrar informaciÃ³n del producto como ya lo tienes
  if (product) {
    document.getElementById("productImage").src = product.img;
    document.getElementById("productName").textContent = product.name;
    document.getElementById("productDescription").textContent = product.description;
    document.getElementById("productPrice").textContent = `$${product.price}`;

    const specsList = document.getElementById("productSpecs");
    product.specs.forEach(spec => {
      const li = document.createElement("li");
      li.textContent = spec;
      specsList.appendChild(li);
    });
  }

  // ---------- Agregar al carrito ----------
  document.getElementById("addToCart").addEventListener("click", () => {
    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    
    // Verificar si ya existe el producto en el carrito
    const existingIndex = cart.findIndex(p => p.name === product.name);
    if (existingIndex !== -1) {
      // Aumentar cantidad si ya estÃ¡
      cart[existingIndex].quantity += 1;
    } else {
      // Agregar producto nuevo
      cart.push({...product, quantity: 1});
    }

    localStorage.setItem("cart", JSON.stringify(cart));
    alert(`${product.name} agregado al carrito`);
  });
</script>
